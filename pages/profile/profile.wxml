<view class="container">
  <view class="header">
    <view class="avatar-section">
      <button class="avatar-wrapper" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar">
        <image class="avatar" src="{{userInfo.avatarUrl}}"></image>
      </button>
      <text class="nickname">{{userInfo.nickName || '点击设置头像'}}</text>
    </view>
  </view>

  <view class="content">
    <view class="section">
      <view class="section-title">基本信息</view>
      <view class="form-group">
        <view class="form-item">
          <text class="label">昵称</text>
          <input type="nickname" class="input" placeholder="请输入昵称" value="{{userInfo.nickName}}" bindchange="onNicknameChange"/>
        </view>
        <view class="form-item">
          <text class="label">性别</text>
          <picker bindchange="onGenderChange" value="{{userInfo.gender}}" range="{{genderArray}}">
            <view class="picker">{{genderArray[userInfo.gender]}}</view>
          </picker>
        </view>
        <view class="form-item">
          <text class="label">年龄</text>
          <input type="number" class="input" placeholder="请输入年龄" value="{{userInfo.age}}" bindchange="onAgeChange"/>
        </view>
      </view>
    </view>

    <view class="section">
      <view class="section-title">健康信息</view>
      <view class="form-group">
        <view class="form-item">
          <text class="label">身高(cm)</text>
          <input type="digit" class="input" placeholder="请输入身高" value="{{healthInfo.height}}" bindchange="onHeightChange"/>
        </view>
        <view class="form-item">
          <text class="label">体重(kg)</text>
          <input type="digit" class="input" placeholder="请输入体重" value="{{healthInfo.weight}}" bindchange="onWeightChange"/>
        </view>
        <view class="form-item">
          <text class="label">运动频率</text>
          <picker bindchange="onActivityLevelChange" value="{{healthInfo.activityLevel}}" range="{{activityLevels}}">
            <view class="picker">{{activityLevels[healthInfo.activityLevel]}}</view>
          </picker>
        </view>
      </view>
    </view>

    <view class="section">
      <view class="section-title">饮食偏好</view>
      <view class="form-group">
        <view class="form-item">
          <text class="label">饮食习惯</text>
          <picker bindchange="onDietTypeChange" value="{{healthInfo.dietType}}" range="{{dietTypes}}">
            <view class="picker">{{dietTypes[healthInfo.dietType]}}</view>
          </picker>
        </view>
        <view class="form-item">
          <text class="label">过敏原</text>
          <input class="input" placeholder="请输入过敏原" value="{{healthInfo.allergies}}" bindchange="onAllergiesChange"/>
        </view>
      </view>
    </view>
  </view>

  <view class="footer">
    <button class="save-button" bindtap="saveProfile">保存信息</button>
  </view>
</view> 